(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{630:function(t,a,v){"use strict";v.r(a);var _=v(15),s=Object(_.a)({},(function(){var t=this,a=t.$createElement,v=t._self._c||a;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"http缓存又分为强缓存和协商缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#http缓存又分为强缓存和协商缓存"}},[t._v("#")]),t._v(" http缓存又分为强缓存和协商缓存")]),t._v(" "),v("h1",{attrs:{id:"强缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#强缓存"}},[t._v("#")]),t._v(" 强缓存")]),t._v(" "),v("ul",[v("li",[t._v("当我们第一次发起http请求的时候：")])]),t._v(" "),v("p",[t._v("需要加载整个资源文件，列如：css、html、js、image ......")]),t._v(" "),v("ul",[v("li",[t._v("第一次之后请求")])]),t._v(" "),v("p",[t._v("流程是：CPU计算、页面渲染、网络请求")]),t._v(" "),v("p",[t._v("前两歩其实都特别快、主要是网络请求有包的大小的影响")]),t._v(" "),v("h3",{attrs:{id:"强缓存上怎么实现的呢"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#强缓存上怎么实现的呢"}},[t._v("#")]),t._v(" 强缓存上怎么实现的呢")]),t._v(" "),v("ul",[v("li",[t._v("第一次请求，返回资源：响应头内设置一个cache-control")])]),t._v(" "),v("p",[t._v("max-age：缓存的时间")]),t._v(" "),v("p",[t._v("no-cache：不缓存")]),t._v(" "),v("p",[t._v("我们浏览器下一次发起请求的时候，如果max-age没过期，我们从本地缓存中拿资源，这就是强缓存")]),t._v(" "),v("p",[t._v("如果max-age过期，会再次发起请求")]),t._v(" "),v("p",[v("strong",[t._v("（其实强缓存不需要我们前端做任何操作，因为是从respone响应头来决定的）")])]),t._v(" "),v("h1",{attrs:{id:"协商缓存"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#协商缓存"}},[t._v("#")]),t._v(" 协商缓存")]),t._v(" "),v("p",[v("strong",[t._v("协商缓存主要是对资源版本的资源标识")])]),t._v(" "),v("h3",{attrs:{id:"理解"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#理解"}},[t._v("#")]),t._v(" 理解：")]),t._v(" "),v("ul",[v("li",[t._v("第一次请求：服务器返回资源以及资源标识，并存入本地缓存。")]),t._v(" "),v("li",[t._v("后续请求：请求服务器带着本地缓存的标识，如果本地缓存的标识和服务器最新版不一样，服务器返回200状态码，会在次发送资源以及标识，存入本地缓存；如果是最新版本，服务器返回304状态码，直接从本地缓存中拿取")])]),t._v(" "),v("h3",{attrs:{id:"资源标识"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#资源标识"}},[t._v("#")]),t._v(" 资源标识")]),t._v(" "),v("p",[t._v("ETag：上一串字符串（推荐使用）")]),t._v(" "),v("p",[t._v("last-Modified：用时间来作为标识，精确到秒级")]),t._v(" "),v("h1",{attrs:{id:"总结"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结：")]),t._v(" "),v("p",[v("strong",[t._v("当无缓存的情况下")]),t._v("：")]),t._v(" "),v("p",[t._v("判断是否有缓存————>服务器返回资源————>渲染页面")]),t._v(" "),v("p",[v("strong",[t._v("协商缓存有缓存的情况下")])]),t._v(" "),v("p",[t._v("判断是否有缓存————>是否标识过期")]),t._v(" "),v("p",[t._v("过期就重新返回资源，没有过期就从本地缓存拿取")])])}),[],!1,null,null,null);a.default=s.exports}}]);