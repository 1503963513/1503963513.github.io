(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{640:function(s,n,e){"use strict";e.r(n);var a=e(15),t=Object(a.a)({},(function(){var s=this,n=s.$createElement,e=s._self._c||n;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h3",{attrs:{id:"浅拷贝"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#浅拷贝"}},[s._v("#")]),s._v(" 浅拷贝")]),s._v(" "),e("p",[s._v("1、...扩展运算符拷贝")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("let copy = { ...obj }\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("2、Object.assign 复制一个对象")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("const obj = { a: 1, b: 2 }\nconst copy = Object.assign({}, obj);\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("h3",{attrs:{id:"深拷贝"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#深拷贝"}},[s._v("#")]),s._v(" 深拷贝")]),s._v(" "),e("p",[s._v("针对深拷贝，需要使用其他办法，因为 "),e("code",[s._v("Object.assign()")]),s._v("拷贝的是（可枚举）属性值。")]),s._v(" "),e("p",[s._v("1、最简单的方法（但是有局限性，不能序列化函数，会忽略undefined，和Symbol）")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("// 使用JSON.stringify序列化，再用JSON.parse反序列化\nJSON.parse(JSON.stringify(obj1))\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("2、最好的做法是"),e("strong",[s._v("定义函数并利用递归的方法实现对象的深拷贝")])]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("        // 1.1 判断是否是对象\n        const isObject = obj => (typeof obj === 'object' || typeof obj === 'function') &&  obj !== 'null'\n        // 1.2 定义深克隆的方法\n        function cloneDeep(obj) {\n            if(!isObject(obj)) throw new Error('参数不是对象')\n            // 1.3 如果参数为数组，则复制数组各元素，否则复制对象属性\n            const newObject = Array.isArray(obj) ? [ ...obj ] : { ...obj }\n            // 1.4 迭代\n            Object.keys(newObject).forEach(key => {\n                // 1.5 判断如果遍历到的属性值为对象，则继续递归cloneDeep\n                if(isObject(newObject[key])) {\n                    newObject[key] = cloneDeep(newObject[key])\n                }\n            })\n            return newObject\n        }\n        // 1.6 测试\n        let test = {a: 1, b: {c: 2}}\n        let xm = cloneDeep(test)\n        xm.b.c = '二'\n        console.log(xm)\n        console.log(test)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br"),e("span",{staticClass:"line-number"},[s._v("13")]),e("br"),e("span",{staticClass:"line-number"},[s._v("14")]),e("br"),e("span",{staticClass:"line-number"},[s._v("15")]),e("br"),e("span",{staticClass:"line-number"},[s._v("16")]),e("br"),e("span",{staticClass:"line-number"},[s._v("17")]),e("br"),e("span",{staticClass:"line-number"},[s._v("18")]),e("br"),e("span",{staticClass:"line-number"},[s._v("19")]),e("br"),e("span",{staticClass:"line-number"},[s._v("20")]),e("br"),e("span",{staticClass:"line-number"},[s._v("21")]),e("br"),e("span",{staticClass:"line-number"},[s._v("22")]),e("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);