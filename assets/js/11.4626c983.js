(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{606:function(s,e,n){s.exports=n.p+"assets/img/formidable.93b61ade.png"},607:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQwAAAC4CAMAAAAhfiJ2AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABpUExURSUlJptjJsCYYSVhm0dGR2AlJiUlgR4eHjIzM8rMy6zMxcysgYGtzMq/nGCZwYElJsXMrJy/ySUlYayBJsjHOyWCrLqwkChrMmmOr6e2OyUlMKzMrJ2qu3dRJn+NMaOCkWMvJk8lJiVuXT7N6x8AAAdsSURBVHja7Z0Nd6I6EIYJtF4jMX5QuvXWbff+/z95MzMJBPqxKlYJvJ5dXUD2nDzOTJI3kyFbLrOZvv758MqWy4eZvj6FAcsADMAADMAADMD4cRiF1irb79aP2WKl9XZDJ7R2h/ud+ywnDiMg+XcZYJQMY7Giz+2m0Lnjst0woIlbxv6YC4uX50cPQ1fUcOssxB3lBCOr5dzk3URoOBZ/vGXkZrvZrR+cUWTOJEqG4d7YTfKpxwyi0bAQW1gTDDKEDowZWAbTaFhQszNLEdOIm1SzchOisWtYMAznEevHwgdSOuFs5XEuMLpdK3uF71rdB3etZSZd6xqDLoxAAQMwAAMwAAMwAAMwAAMwAGOEMIwuTZnZcnYwaOqq+LNpe0ESWDYDGD112M3bq6x2jbfbYwtDdI3Jw+irw9xwAhK1vSbF2OR8wqa5eHCiZfTU4aymtpq8YwgESGDU8q/JxoyuOiwIbIBBAaRqYbDJ1OV0YXTV4e8tg4VAnaAyenpvEqvD7Ai9mBHDULPqWrk34d/+s5hhE9XLLx1nFLz4/AUMN/yiIILhOIbjgAEYgAEYgAEYgAEYgAEYgHELGEU0kf/8daKsYxspzCvJCcKI5C7A+DuNOcHo0Fis3kUIN6JvLFZ6+1JGcgc19ai1srzMQmJpKWrI2uSZEa20kLR89x5WYxIKoM2CAbWOMusr1rZqygmteFlpsVJeCAvZtDl9Zb/LWTmly3S6hSE3POyq1CyjC0NR8/hjv1MMoJYlxsXrpnEC/5cvF+vHoK23MPwNd15fGOwmipolDTcVhwuCQfK4N/gYBl1235U1hg4MuWG/u2tK/sAAGmDElkGKcNSkryyjEzOaG/b39JSBXauHkRmJGRQ+KGYUURiMYCxWEjPoMoeSUr5NO3nCDff0lIGDrgCDehP+2bX0JnW7VSuCwb0FNbaW3sT3PXSFb6DVpzKxAIrh+AUvm9oqIywDMAADMAADMAADMAADMJKaqPVePG+TyVmh1fRhfKsHRzDm4Sbf0ZgdjI/qOG2M57xQ1Rw6N3E8SJ/Ipw2jr45npmxh+EOGQWL4YlYwlITLAMMfyp/UcmOvoY4vXjsw6JBhJJdLfw113JHoWIY7FBiTt4y+Ok5lVmSNzGoVDgUGieHTjhl9dfwogjbtPSLLkEPfm8g+lNkMx8PAAnMTwAAMzFoBAzAAAzAAAzAAAzDuOVE7aUCazHbwn1HH5wLjJHV8NjC6sh9lw5oqM+WOkmAlYVjyxn3+nwgdadRaGSoIBxiORC0p4D6NfPHMmhdJf1arNBTAa8HIObnXwQjJwnTV5pzw647SWFW6lpuQ1GkYhk8j58THnKnQW60TwDFUHe9Yhoosg4syiWVIWE3AUwZ2rVxhRTsYVLOLcsdVSCM3OccMKzEjS2L9deigq3a9BFnG80p2EqnQjZAyfpSkcteb1FonkKJwpeG4mcSTGwADMDBrBQzAAAzAAAzAAAzAmByMFFPHz4ZxeHpcHp6eDv/BMhjG4elwOMBNAoxI0bAshdvScF6fF8m9lGNSeybjBTDenJcEHPsj54pbqrTtKHiRXGCkV5r+AhjZmwsakZ7pK6lwQYw8VMBIMUH4Ihj0HvoKqQ3R1I0Rkdy7iU2t9vh5MA4ueLo3Zxle3KVfv7GMRiTPgvybmKecBcN1qi5aUM/6O8RPqqtdsv5NscKL5D5bOonlgSsOumiv0ZGqrksv4kVygWG1Tmx31nVGoMEdWim0SLEo/U/BsBN+vsmZMKxOcvsiZq2AARiAARiAARiAMRIYv94Uvf0GDIfhiYSMX62c8enrb8kaH/KIm3QvqieaEAwlH9XPwEjMMirA+ABDNe2SUipRpjhnPXI6ZHPl/bVTUjzOMOft8lx4hL4rNbi11CEnaZ3k9tuROguGCxYcOpdN0AilVHymOGV9vjgYpJSHU6SFUWOrxgDiDHMXJAqCYUp/RcyGztMtJLebMhkYqn2Eb+5Txs1ziIO+7vTidSMPa1T0g8d5xFJvpNgeRQtyp6MnOrqL5HG30w4HxozQVskU93XXjeymaE8RDC4sXoWbQoa5lNguggfRf+ccp5Ja3QV73A1Fs2vA8JXEvRmwo+fy4/pTvZIzvQxzuv4ixhV8RMWWMV4Yqg9DSqn4THHjYwbVVAmnJGbEI4gow7zQPmZYDisCw/2DznPMGDWM3qArlFKJM8WlzHrpT5F+Tr1J0VaajjLM+bSShVnl96twN1KIU40ZhuPg2rFsh+On1c84uTnhYQ9pTtROgsFP8jjpdedFpx+HYfTJW/Xqe2/DwBQeMAADMAADMAADMMYyHIc6/vVE7QIN1I43p+ce6vhkLKMCjA8wBqjjrBCL9O2fxPk+lqort1fHrc+hbQVyEcmnAOM8dVxg1GGNpKlIPQ7Pur06zkKxc6AgkDdPLJwGjPPUce8jZccy0oQxUB2v/fNJufZKiBnJwhiojgsMG1fyShbGNdRxO95RyM3V8f2umi+MrjrunGbEGfaYwgMGYAAGYAAGYAAGYIwJxif1xuty8jD+B00H7yv1XBWWAAAAAElFTkSuQmCC"},608:function(s,e){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA+EAAACUCAMAAADLYNg7AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABLUExURQwMDAAAAP//xcv///Dw8BoaGhkXF////8zMzBwcHAhHmnshAJDb/4yTlP+2ZnIUQGi2/8h7J//bkAAAVjqO2joCVWBcaNPk3ePLAbBJB+oAAAxsSURBVHja7Z2LgqI2FEBRO+PdeTg647r9/y8tCQSSmwQCPhbsOW11VAjBeshNyKP6ZXlpnv49/QKAZ+Clkbpyhu8B4HmoDX/pDX/BcAAMB4AVGf6C4QDPbPhLa/gLhgNgOACsy/AXDAd4TsNfMRzg6Q1/iQz/VPBVAazc8JfA8D+OT/PPuOHfvz/8l4e33WPP5IoDTtlVnSbAPdh0FG0tzbNsphguAc7w7ftm82aev8wP/fRmH3bmodTwZk+b0LEk9/WGP3VSh83m56PdF8Ph2Q2P/hhCGsXFmV5m+CagNfxgrDycjdfnVo3t+89H+7LMGrvp9v1Yu74LVT4mLwg7cyHZXnb7w88uOszDDQdYnOGN20nBa8NfJxjuSfhtrDAF2vbLyvpRbE2zZ/xx2nAvrfog33kXMRz+t4Ybu9OCDxre1Ab2nuFOhdps66N5OLzVRez371397/ar3uvcROAbW7xvTIRdF7zNhruTed3taR7Pe/f+HxP/78wu9eZfn6+b48Emtu8ChEO7r0337G/jDug+259+mpL/3SXhxQR9Hk307+fV2/T71VQitu+f7/6zPfU65WZXgKUYXiueFnzI8L2xe58zvP67qYifjnXBerCSb9/fOvlPxtaz1bLe6PCrtu5s7LCp2Hjf1q7rBOsE7PvbNhaon+uEdoeNTdO4dmylOzb72nT33jbugG0t37w8neuk3YswUmjzeO4vGado0+3nrvn0J3huDG9PA+BujWePMrzJTmy4qyDXwfafL9P+VZeytgw3QfuH3epgtLdlpBH4JBezoa2yu/r3qdZza/beNe/bct4e8twm5IL/pi2v2/fQuxwe0F44bAJN64B70bbXfez73Vzeurz2m7atBX644YUd9oLyQ2sbrD9Kb8vwjWd4UN02sfP2S2wpXL+fM9w4bPz+bJzymuWasta2x5v320h+H9rrXtrNmqMOGt5egxrDE/XrwHCVVz9IP3fBQWS4Ow2Adbe0tYGFOYhrS7cF6eFsbxnZVq/TxdakLzvPcBtuv7so3VwBftXBfB2nfx8bTeo9v98a2b5/m4ej06gJmneevWbDugzvIuPvN+vd9uht4w7Y1RB29sqxcy8Shru89XkNNrW5/rHVDv+5PoCJ0o8DrYIADzd8+G7ZlLb0Jgp+a24K2wLW3j6zAvSG23vXn31Lm61B211O/c30+k9bv24icPt+Hbbv2hYurwxvmrWaKPrYXhZeTQTtbdMe0ByjScDq/da+SBne5c3lNdzUfHoxZfjFbuWeG8PdaQAsotI+0uNlmuE+p9k/c2/PgTvco/veHVdU+3cJaWaDNZE3fLxfuuqxMsWcbs/pwsw/6k0MP3HvHJ7C8Mdw2iy6PhsZfuBGOGA4AGA4AGA4AGA4AGA4AIZjOACGAwCGA8DiDK8WjKjn8E8A2P+jWIPhZiZI67J0rxdouPjZAsDwiUV3K7nySJaXUYAlG24Maiy6TZFkkquuSy8wvESqrqyPspJMWKLtJV0oiz6A20wEw2EtZbi0Qs4wMrmHNTzzadkh0oYH07mrcNnbIUgmtZ10qoaXBtHO9odx34/QKAArNnxOWSvxD70zfHZcK73RlTJaMheVhKHJrGm7ZcBwr6VP0kliODy74dUdDe9S84+UTPtKwyUKx3VwjuGwcMMv44b7QWnTxNXVz6WvgPavRT1rw7u9quT+zWHbI6Va0x5muOSuVZWO/nV1HcNhIYZfLpeCMtz7HbuWMomNiHXKleFhCKz2796NTeyjdGV4uvFthuGSNDzXMldFZbhgOCzJ8MulUzxhuDYyilET5dyQ4eqKkbtCOH1lrKVNokvPVYY30UmYn6EyPGk0bemwIMON3k7x+YZ30fmI4araOmC4iJ/uqOGS8Xaq4TofflteqszvP8dwWKjh7uEqwwuj9AmGZ1q49N2y/rWTTW5oeFBOZ7aX9HEwHJZhuNfYNm64DoaL6uFSZniq/itlhkvsWrq+LCpbIpl6tap59GX6uOHUw2FZLW2Dfdoq3aQt0cugzTxuQ9dN4X7TefggXkdU6YP/rLBSVWHzeaolvc9YmBn1Wm3nP4uXr9T2wTdCWzqsyfAFZtobeSK6bY2RJwBrN7wPnCXXOAAA6zb8VlcJVe4mt8iECNkOslxnYG2GP2dXzKBbu998EPTe8zu7R0NXRG8vGA5LMlxCMoYvdwj2tYb3ZxS3mwd6qy8q2DJqEcRwWJXhMhDc3nr8eKrxfOr+5UF6+pZ89p523KYfbqTvsgGs3vA7jB+/shCcb3h4q3/Y8LYox3BYv+Hpft6R4TOC5OEBXjPSm3olCGJuEXf/zbvNLTq6ULF4cLMOwwHD42RuVcufYXilp3FQpXc4xYTqNxcW/Z3+GA4rNTw9/uLG48fDaZn6dLwhaXH6Kvlw/+zELyN3tvr+crqPm/91SOoigeGwQsMlUze97fjxKOLt0tG90CUx9qRSFWjxp2CKqwhh07ia5k0bLpX6WHealXCsO8CqDM/dEr/x+PGE4Yl0VFfVQcOzBbVUVdSLPJidzdXD9cSMecOzk1AAPLvhhePHpxuebtFOxQySDsMHx35GTewZ4ROzVtAvHdZheJWc3mCy4WVRetbkofeLDJfEkSSYpCmO0vW1RBL9WhLnRn0c1md4fhqE244fj+5Je+1cki7bReLLR5Hh8f3vZEGeV1q12HFfHFZpeLgYSNzh5cbjx3WbuXe/OvF+0MoeH6d/yKx5kujINsVwSV37iNJhXYYvYeSJ3ClFfzUFLwxPVTzU7On5+gFqw8oM//vcYT6F7NDyZFNCaodMlRzBAcMBAMMBAMMBIGP4/3oWJwAM5zsCwHAAwHAAwHAAwHAAwHAADMdwAAwHAAwHAAwHAAwHAAwHAAwHwHAMB8Dwm01RdO+pjuTOnz/qPADuarhEy3mPqlG4/rc/S7k/QauIWhV09Hhp5/qZWNvpWIPnOyguMrinDMwPf+OLG1cdKC/DoxmUpcAvKfjpDc+nXr48kOgM6WkRJVjdpJvffWzKYyk8ZLQiQvyV+EuuiMi842A43MvwwUInb7gMW1O8YsLMQrXM8GqO4UPnkfyGZPQbowoAf93w5OLCA7/XEcMza5PczPDECoLhSmUjqwsXmyfjhg+nKxgOf9HwaGkSF3P2a5FIapHhbv3uYDESfw2SEsO7/RNrmXhpJcLzcsP9dc11/vr1xzProI8ZHq1rXgXrm/d5GD1OUA3pl21PrOUiU9pDgDJc0k1k/TLe/vreuqwfK6P9H7JarigZ9ev1w+MlBKcbnspncDYF66BHf3rrMaWvPKoOP3qcKjhP//tPRQlCDAAzDU8bEddtR1cIjH//Ekf5ecOjUFZSq5jows4r9IJVigbzN2yelEXpecOl7DjBeQ6tjy7IDVMMr6YaXrgG6G0Nj9YRjxYH1cuKBU3f/oplRYarYGOy4Zn9B44TnOeY4RVBOsw1vLDMyRju1RvlhoZLQjAZNrySpCSJ/I2sDS5zy/CC2kwuAh81nCgdJhqufvlqPe9ofW/vlnZQZ59huKj0MobLTMN1vkcNl1StRHI34Eai9IG7hpKuh0uqHi5CPRxmGO6FevqX3zcRS99TLF4XXKRbYFx3JpMgSFYRqf+Jf2nQ64r3f6h1zIsM79rkddu4n7/uiOp8kuuFq6ha1Hrp0TrqVXD+g8ep/POswnXVI8OJ0mH+yBOZf7f6oYuRz+qZOiN/f0GlXBdZWtngJoZLrrPo6C9TqkUbPit/j1dKsp1gKbrhesMBAMMBAMMB4BkNp7oIgOFcNACI0jvF+V8KgOEAGN4ZHo5Tdn3AdF+w/rULmMXrxSaV+OPIvfHS4bjocISFv38V3QKWzHhqAJhgeDw2zOtvXqXGa3uVYgn7rfvPqfHXUWcT3Q/d+69glCUAhhePPEmNlJAqNRIkjJinjD3LTHAY9JKVaixdAJgYpVfh+OlWsXAukysNT/WDlSHDg2mXMRxgpuHKsMhw/f4VZXiEjJThVXLSCQC4oh4eKlwSpUthGZ6rh0thPZyWNoDJhkdznOolB/T7fRDt/qp0RB285caXh1cJ0eOkC9rSURxgVpT+AIiyAZ7ZcAY2Azy14QCA4QCA4QCA4QAYzncEgOEAgOEAgOEAgOEAgOEAGI7hABgOABgOABgOABgOABgOABgOgOEYDoDhAIDhAIDhAIDhAIDhAIDhABiO4QAYDgAYDgAYDgAYDgAYDgAYDoDhGA6A4QCA4QCA4QCA4QCA4QAwYPh/E/IVLt2uz04AAAAASUVORK5CYII="},609:function(s,e,n){s.exports=n.p+"assets/img/wenjchaun.91217db8.gif"},652:function(s,e,n){"use strict";n.r(e);var r=n(15),a=Object(r.a)({},(function(){var s=this,e=s.$createElement,r=s._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[r("p",[s._v("今天利用node做一个文件上传功能，\n使用场景：这个在我们很多的应用当中都会遇到，比如我们注册用户，注册用户的时候都会要求上传头像；比如说大家做订单系统，商品有问题、故障，订单肯定会有退换货功能吧，要求上传图片等等。\n但是具体怎么操作，咋们一步一步来\n"),r("strong",[s._v("1.0 安装express模块")])]),s._v(" "),r("blockquote",[r("p",[s._v("$ npm install express")])]),s._v(" "),r("p",[r("strong",[s._v("1.1 这里我们用到formidable模块")]),s._v("\n（在npm包管理器中，介绍这是一个Node.js模块，用于解析表单数据，特别是文件上传。）\n"),r("img",{attrs:{src:n(606)}})]),s._v(" "),r("blockquote",[r("p",[s._v("$ npm install formidable")])]),s._v(" "),r("p",[r("strong",[s._v("1.2 创建文件一个file文件")]),s._v("\n（创建文件这个就不细说了，看图就可以）\n"),r("img",{attrs:{src:n(607)}})]),s._v(" "),r("p",[s._v("这里主要创建了两个文件夹public我用来放中间件和uploads用来存放图片，以及一个app.js文件。\n"),r("strong",[s._v("1.3 在public下写一个fileuploads.html文件")]),s._v("\n（写个表单，然后用ajax上传）↓")]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v('<body>\n    \x3c!-- 添加表单元素 --\x3e\n    <h2>With <code>"express"</code> npm package</h2>\n    <form class="form">\n        <div>标题: <input type="text" name="title" /></div>\n        <div>File: <input type="file" name="someExpressFiles" multiple="multiple" /></div>\n        <input type="submit" value="Upload" />\n    </form>\n    <script>\n        // 封装$ 使用自调用函数，封装$\n        ($ = s => document.querySelector(s))()\n        //使用ajax发送数据\n        $(\'.form\').addEventListener(\'submit\', function (eve) {\n            eve.preventDefault()    //阻止表单提交默认行为\n            let fromData = new FormData(eve.target)\n            \n            let xhr = new XMLHttpRequest\n            xhr.open(\'post\', \'http://localhost:8527/public/files/student\')   //请求的地址\n            xhr.send(fromData)      //发送请求携带formData\n            // 处理响应\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                        const data = JSON.parse(xhr.responseText) \n                        console.log(\'成功：\', data)\n                    } else {\n                        console.error(\'失败\')\n                    }\n                }\n            }\n        })\n    <\/script>\n</body>\n')])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br"),r("span",{staticClass:"line-number"},[s._v("29")]),r("br"),r("span",{staticClass:"line-number"},[s._v("30")]),r("br"),r("span",{staticClass:"line-number"},[s._v("31")]),r("br"),r("span",{staticClass:"line-number"},[s._v("32")]),r("br"),r("span",{staticClass:"line-number"},[s._v("33")]),r("br")])]),r("p",[s._v("这里用了一个普通表单，给submit提交绑定了一个事件监听，因为点击会全页面刷新，（上传文件不需要跳转页面，我这里是服务端返回一个json数据），利用formDate构建ajax提交的数据。剩下就是一个ajax发送post请求，成功就返回data数据\n"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/FormData",target:"_blank",rel:"noopener noreferrer"}},[s._v("formDate"),r("OutboundLink")],1),s._v(" ＜\n"),r("strong",[s._v("1.4 app.js")])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("//引入模块\nconst express = require('express')\nconst cors = require('cors')\nconst userFile = require('./public/files')    // ! files 模块\n//调用模块，创建应用\nconst app = express()\napp.use(cors()) //跨域问题\napp.use(express.static('public'))   // ! 托管静态资源\napp.use('/public/files',userFile)  //静态路由，用use把router添加到中间件处理路径，我们就可以在主应用中，使用这个模块中的路由模块\n// ! 设置监听 8527 端口，到时候我们在浏览器就访问这个端口\napp.listen(8527,()=>console.log(\"server running succeed\"))\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br")])]),r("p",[s._v("先引入我们要用到的模块\n用static中间件来托管静态文件，包括图片、CSS 以及 JavaScript 文件（其实 "),r("code",[s._v("static()")]),s._v(" 是 Express 提供的"),r("strong",[s._v("原生")]),s._v("中间件函数之一）\n因为涉及到跨域("),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/CORS",target:"_blank",rel:"noopener noreferrer"}},[s._v("CORS"),r("OutboundLink")],1),s._v(")（或通俗地译为跨域资源共享）是一种基于 "),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/HTTP",target:"_blank",rel:"noopener noreferrer"}},[s._v("HTTP"),r("OutboundLink")],1),s._v(" 头的机制，该机制通过允许服务器标示除了它自己以外的其它"),r("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Glossary/Origin",target:"_blank",rel:"noopener noreferrer"}},[s._v("origin"),r("OutboundLink")],1),s._v("（域，协议和端口），这样浏览器可以访问加载这些资源。\n一个nodejs模块")]),s._v(" "),r("blockquote",[r("p",[s._v("安装 npm install cors\n用法： const cors = require('cors')\t\napp.use(cors())")])]),s._v(" "),r("p",[r("strong",[s._v("1.5 在public下创建files.js文件")])]),s._v(" "),r("div",{staticClass:"language- line-numbers-mode"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[s._v("//引入router方法，实现路由模块化\nconst formidable = require('formidable')\nconst path = require('path')\nconst fliesRouter = require('express').Router()\n\nfliesRouter.post('/student',(request,response,next) => {\n    const form = formidable({\n        uploadDir: path.join(__dirname, '../uploads'), // 上传文件放置的目录\n        keepExtensions: true,           //包含源文件的扩展名\n        multiples: true                 //多个文件的倍数\n      })\n    \n      // 从请求中解析提交的数据（包括文本与文件数据）\n      // fields 中保存的是文本数据信息\n      // files 中保存的是文件数据相关信息\n      form.parse(request, (err, fields, files) => {\n        if (err) {  \n          next(err)\n          return\n        }\n        response.json({      //响应json数据\n          code: 200,\n          data: { fields, files }\n        })\n      })\n    })\n//导出\nmodule.exports = fliesRouter\n")])]),s._v(" "),r("div",{staticClass:"line-numbers-wrapper"},[r("span",{staticClass:"line-number"},[s._v("1")]),r("br"),r("span",{staticClass:"line-number"},[s._v("2")]),r("br"),r("span",{staticClass:"line-number"},[s._v("3")]),r("br"),r("span",{staticClass:"line-number"},[s._v("4")]),r("br"),r("span",{staticClass:"line-number"},[s._v("5")]),r("br"),r("span",{staticClass:"line-number"},[s._v("6")]),r("br"),r("span",{staticClass:"line-number"},[s._v("7")]),r("br"),r("span",{staticClass:"line-number"},[s._v("8")]),r("br"),r("span",{staticClass:"line-number"},[s._v("9")]),r("br"),r("span",{staticClass:"line-number"},[s._v("10")]),r("br"),r("span",{staticClass:"line-number"},[s._v("11")]),r("br"),r("span",{staticClass:"line-number"},[s._v("12")]),r("br"),r("span",{staticClass:"line-number"},[s._v("13")]),r("br"),r("span",{staticClass:"line-number"},[s._v("14")]),r("br"),r("span",{staticClass:"line-number"},[s._v("15")]),r("br"),r("span",{staticClass:"line-number"},[s._v("16")]),r("br"),r("span",{staticClass:"line-number"},[s._v("17")]),r("br"),r("span",{staticClass:"line-number"},[s._v("18")]),r("br"),r("span",{staticClass:"line-number"},[s._v("19")]),r("br"),r("span",{staticClass:"line-number"},[s._v("20")]),r("br"),r("span",{staticClass:"line-number"},[s._v("21")]),r("br"),r("span",{staticClass:"line-number"},[s._v("22")]),r("br"),r("span",{staticClass:"line-number"},[s._v("23")]),r("br"),r("span",{staticClass:"line-number"},[s._v("24")]),r("br"),r("span",{staticClass:"line-number"},[s._v("25")]),r("br"),r("span",{staticClass:"line-number"},[s._v("26")]),r("br"),r("span",{staticClass:"line-number"},[s._v("27")]),r("br"),r("span",{staticClass:"line-number"},[s._v("28")]),r("br")])]),r("p",[s._v("介绍：\n首先 require() 路由模块（files.js），然后在 Express 应用中调用 use() 把 Router 添加到中间件处理路径中，就可以在主应用中使用这个模块中的路由处理器了。\n这个模块主要是对post请求的处理，\n**uploadDir:**用于放置上传文件的目录。以后可以使用fs.rename()来移动它们。\n**keepExtensions: {boolean}**默认false ，是否包含原始文件的扩展名\n**multiples:**当你调用.parse方法时，files参数(回调函数的)将包含使用HTML5 multiple属性提交多个文件的输入文件数组。fields参数将包含名称以'[]'结尾的字段的值数组。\n"),r("a",{attrs:{href:"https://www.npmjs.com/package/formidable",target:"_blank",rel:"noopener noreferrer"}},[s._v("formidable"),r("OutboundLink")],1),s._v(" npmjs有介绍\n"),r("a",{attrs:{href:"http://www.expressjs.com.cn/guide/routing.html#express.Router",target:"_blank",rel:"noopener noreferrer"}},[s._v("express.Router"),r("OutboundLink")],1),s._v("  mdn也有介绍")]),s._v(" "),r("p",[r("strong",[s._v("然后我们在cmd 中启动node 监听")]),s._v(" "),r("img",{attrs:{src:n(608)}}),s._v("最后在浏览器中打开!"),r("img",{attrs:{src:n(609)}}),s._v("\n上传文件到服务器到这里就完成了，哈哈哈这个图有点大，将就看")])])}),[],!1,null,null,null);e.default=a.exports}}]);